# åŸºæ–¼æœ¬åœ°çŸ¥è­˜åº«çš„ ChatGLM ç­‰å¤§èªè¨€æ¨¡å‹æ‡‰ç”¨å¯¦ç¾

## ä»‹ç´¹

ğŸŒ [_READ THIS IN ENGLISH_](README_en.md)

ğŸ¤–ï¸ ä¸€ç¨®åˆ©ç”¨ [langchain](https://github.com/hwchase17/langchain) æ€æƒ³å¯¦ç¾çš„åŸºæ–¼æœ¬åœ°çŸ¥è­˜åº«çš„å•ç­”æ‡‰ç”¨ï¼Œç›®æ¨™æœŸæœ›å»ºç«‹ä¸€å¥—å°ä¸­æ–‡å ´æ™¯èˆ‡é–‹æºæ¨¡å‹æ”¯æŒå‹å¥½ã€å¯é›¢ç·šé‹è¡Œçš„çŸ¥è­˜åº«å•ç­”è§£æ±ºæ–¹æ¡ˆã€‚

ğŸ’¡ å— [GanymedeNil](https://github.com/GanymedeNil) çš„é …ç›® [document.ai](https://github.com/GanymedeNil/document.ai) å’Œ [AlexZhangji](https://github.com/AlexZhangji) å‰µå»ºçš„ [ChatGLM-6B Pull Request](https://github.com/THUDM/ChatGLM-6B/pull/216) å•Ÿç™¼ï¼Œå»ºç«‹äº†å…¨æµç¨‹å¯ä½¿ç”¨é–‹æºæ¨¡å‹å¯¦ç¾çš„æœ¬åœ°çŸ¥è­˜åº«å•ç­”æ‡‰ç”¨ã€‚ç¾å·²æ”¯æŒä½¿ç”¨ [ChatGLM-6B](https://github.com/THUDM/ChatGLM-6B) ç­‰å¤§èªè¨€æ¨¡å‹ç›´æ¥æ¥å…¥ï¼Œæˆ–é€šé [fastchat](https://github.com/lm-sys/FastChat) api å½¢å¼æ¥å…¥ Vicuna, Alpaca, LLaMA, Koala, RWKV ç­‰æ¨¡å‹ã€‚

âœ… æœ¬é …ç›®ä¸­ Embedding é»˜èªé¸ç”¨çš„æ˜¯ [GanymedeNil/text2vec-large-chinese](https://huggingface.co/GanymedeNil/text2vec-large-chinese/tree/main)ï¼ŒLLM é»˜èªé¸ç”¨çš„æ˜¯ [ChatGLM-6B](https://github.com/THUDM/ChatGLM-6B)ã€‚ä¾æ‰˜ä¸Šè¿°æ¨¡å‹ï¼Œæœ¬é …ç›®å¯å¯¦ç¾å…¨éƒ¨ä½¿ç”¨**é–‹æº**æ¨¡å‹**é›¢ç·šç§æœ‰éƒ¨ç½²**ã€‚

â›“ï¸ æœ¬é …ç›®å¯¦ç¾åŸç†å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œéç¨‹åŒ…æ‹¬åŠ è¼‰æ–‡ä»¶ -> è®€å–æ–‡æœ¬ -> æ–‡æœ¬åˆ†å‰² -> æ–‡æœ¬å‘é‡åŒ– -> å•å¥å‘é‡åŒ– -> åœ¨æ–‡æœ¬å‘é‡ä¸­åŒ¹é…å‡ºèˆ‡å•å¥å‘é‡æœ€ç›¸ä¼¼çš„`top k`å€‹ -> åŒ¹é…å‡ºçš„æ–‡æœ¬ä½œç‚ºä¸Šä¸‹æ–‡å’Œå•é¡Œä¸€èµ·æ·»åŠ åˆ°`prompt`ä¸­ -> æäº¤çµ¦`LLM`ç”Ÿæˆå›ç­”ã€‚

ğŸ“º [åŸç†ä»‹ç´¹è¦–é »](https://www.bilibili.com/video/BV13M4y1e7cN/?share_source=copy_web&vd_source=e6c5aafe684f30fbe41925d61ca6d514) 

![å¯¦ç¾åŸç†åœ–](img/langchain+chatglm.png)

å¾æ–‡æª”è™•ç†è§’åº¦ä¾†çœ‹ï¼Œå¯¦ç¾æµç¨‹å¦‚ä¸‹ï¼š

![å¯¦ç¾åŸç†åœ–2](img/langchain+chatglm2.png)


ğŸš© æœ¬é …ç›®æœªæ¶‰åŠå¾®èª¿ã€è¨“ç·´éç¨‹ï¼Œä½†å¯åˆ©ç”¨å¾®èª¿æˆ–è¨“ç·´å°æœ¬é …ç›®æ•ˆæœé€²è¡Œå„ªåŒ–ã€‚

ğŸ³Â Dockeré¡åƒï¼šregistry.cn-beijing.aliyuncs.com/isafetech/chatmydata:1.0Â ï¼ˆæ„Ÿè¬Â @InkSongğŸŒ² ï¼‰

ğŸ’»Â é‹è¡Œæ–¹å¼ï¼šdockerÂ runÂ -dÂ -pÂ 80:7860Â --gpusÂ allÂ registry.cn-beijing.aliyuncs.com/isafetech/chatmydata:1.0Â 

ğŸŒ [AutoDL é¡åƒ](https://www.codewithgpu.com/i/imClumsyPanda/langchain-ChatGLM/langchain-ChatGLM)

ğŸ““ [ModelWhale åœ¨ç·šé‹è¡Œé …ç›®](https://www.heywhale.com/mw/project/643977aa446c45f4592a1e59)

## è®Šæ›´æ—¥å¿—

åƒè¦‹ [ç‰ˆæœ¬æ›´æ–°æ—¥å¿—](https://github.com/imClumsyPanda/langchain-ChatGLM/releases)ã€‚

## ç¡¬ä»¶éœ€æ±‚

- ChatGLM-6B æ¨¡å‹ç¡¬ä»¶éœ€æ±‚

    æ³¨ï¼šå¦‚æœªå°‡æ¨¡å‹ä¸‹è¼‰è‡³æœ¬åœ°ï¼Œè«‹åŸ·è¡Œå‰æª¢æŸ¥`$HOME/.cache/huggingface/`æ–‡ä»¶å¤¾å‰©ä½™ç©ºé–“ï¼Œæ¨¡å‹æ–‡ä»¶ä¸‹è¼‰è‡³æœ¬åœ°éœ€è¦ 15 GB å­˜å„²ç©ºé–“ã€‚
    æ³¨ï¼šä¸€äº›å…¶å®ƒçš„å¯é¸å•Ÿå‹•é …è¦‹[é …ç›®å•Ÿå‹•é¸é …](docs/StartOption.md)
    æ¨¡å‹ä¸‹è¼‰æ–¹æ³•å¯åƒè€ƒ [å¸¸è¦‹å•é¡Œ](docs/FAQ.md) ä¸­ Q8ã€‚
  
    | **é‡åŒ–ç­‰ç´š**   | **æœ€ä½ GPU é¡¯å­˜**ï¼ˆæ¨ç†ï¼‰ | **æœ€ä½ GPU é¡¯å­˜**ï¼ˆé«˜æ•ˆåƒæ•¸å¾®èª¿ï¼‰ |
    | -------------- | ------------------------- | --------------------------------- |
    | FP16ï¼ˆç„¡é‡åŒ–ï¼‰ | 13 GB                     | 14 GB                             |
    | INT8           | 8 GB                     | 9 GB                             |
    | INT4           | 6 GB                      | 7 GB                              |

- MOSS æ¨¡å‹ç¡¬ä»¶éœ€æ±‚
    
    æ³¨ï¼šå¦‚æœªå°‡æ¨¡å‹ä¸‹è¼‰è‡³æœ¬åœ°ï¼Œè«‹åŸ·è¡Œå‰æª¢æŸ¥`$HOME/.cache/huggingface/`æ–‡ä»¶å¤¾å‰©ä½™ç©ºé–“ï¼Œæ¨¡å‹æ–‡ä»¶ä¸‹è¼‰è‡³æœ¬åœ°éœ€è¦ 70 GB å­˜å„²ç©ºé–“

    æ¨¡å‹ä¸‹è¼‰æ–¹æ³•å¯åƒè€ƒ [å¸¸è¦‹å•é¡Œ](docs/FAQ.md) ä¸­ Q8ã€‚

    | **é‡åŒ–ç­‰ç´š**  | **æœ€ä½ GPU é¡¯å­˜**ï¼ˆæ¨ç†ï¼‰ | **æœ€ä½ GPU é¡¯å­˜**ï¼ˆé«˜æ•ˆåƒæ•¸å¾®èª¿ï¼‰ |
    |-------------------|-----------------------| --------------------------------- |
    | FP16ï¼ˆç„¡é‡åŒ–ï¼‰ | 68 GB             | -                     |
    | INT8      | 20 GB          | -                     |

- Embedding æ¨¡å‹ç¡¬ä»¶éœ€æ±‚

    æœ¬é …ç›®ä¸­é»˜èªé¸ç”¨çš„ Embedding æ¨¡å‹ [GanymedeNil/text2vec-large-chinese](https://huggingface.co/GanymedeNil/text2vec-large-chinese/tree/main) ç´„å ç”¨é¡¯å­˜ 3GBï¼Œä¹Ÿå¯ä¿®æ”¹ç‚ºåœ¨ CPU ä¸­é‹è¡Œã€‚

## Docker æ•´åˆåŒ…
ğŸ³ Dockeré¡åƒåœ°å€ï¼š`registry.cn-beijing.aliyuncs.com/isafetech/chatmydata:1.0 `ğŸŒ²

ğŸ’» ä¸€è¡Œå‘½ä»¤é‹è¡Œï¼š
```shell
docker run -d -p 80:7860 --gpus all registry.cn-beijing.aliyuncs.com/isafetech/chatmydata:1.0
```

- è©²ç‰ˆæœ¬é¡åƒå¤§å°`25.2G`ï¼Œä½¿ç”¨[v0.1.16](https://github.com/imClumsyPanda/langchain-ChatGLM/releases/tag/v0.1.16)ï¼Œä»¥`nvidia/cuda:12.1.1-cudnn8-runtime-ubuntu22.04`ç‚ºåŸºç¤é¡åƒ
- è©²ç‰ˆæœ¬å…§ç½®å…©å€‹`embedding`æ¨¡å‹ï¼š`m3e-base`ï¼Œ`text2vec-large-chinese`ï¼Œå…§ç½®`fastchat+chatglm-6b`
- è©²ç‰ˆæœ¬ç›®æ¨™ç‚ºæ–¹ä¾¿ä¸€éµéƒ¨ç½²ä½¿ç”¨ï¼Œè«‹ç¢ºä¿æ‚¨å·²ç¶“åœ¨Linuxç™¼è¡Œç‰ˆä¸Šå®‰è£äº†NVIDIAé©…å‹•ç¨‹åº
- è«‹æ³¨æ„ï¼Œæ‚¨ä¸éœ€è¦åœ¨ä¸»æ©Ÿç³»çµ±ä¸Šå®‰è£CUDAå·¥å…·åŒ…ï¼Œä½†éœ€è¦å®‰è£`NVIDIA Driver`ä»¥åŠ`NVIDIA Container Toolkit`ï¼Œè«‹åƒè€ƒ[å®‰è£æŒ‡å—](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html)
- é¦–æ¬¡æ‹‰å–å’Œå•Ÿå‹•å‡éœ€è¦ä¸€å®šæ™‚é–“ï¼Œé¦–æ¬¡å•Ÿå‹•æ™‚è«‹åƒç…§ä¸‹åœ–ä½¿ç”¨`docker logs -f <container id>`æŸ¥çœ‹æ—¥å¿—
- å¦‚é‡åˆ°å•Ÿå‹•éç¨‹å¡åœ¨`Waiting..`æ­¥é©Ÿï¼Œå»ºè­°ä½¿ç”¨`docker exec -it <container id> bash`é€²å…¥`/logs/`ç›®éŒ„æŸ¥çœ‹å°æ‡‰éšæ®µæ—¥å¿—
![](img/docker_logs.png)


## Docker éƒ¨ç½²
ç‚ºäº†èƒ½è®“å®¹å™¨ä½¿ç”¨ä¸»æ©ŸGPUè³‡æºï¼Œéœ€è¦åœ¨ä¸»æ©Ÿä¸Šå®‰è£ [NVIDIA Container Toolkit](https://github.com/NVIDIA/nvidia-container-toolkit)ã€‚å…·é«”å®‰è£æ­¥é©Ÿå¦‚ä¸‹ï¼š
```shell
sudo apt-get update
sudo apt-get install -y nvidia-container-toolkit-base
sudo systemctl daemon-reload 
sudo systemctl restart docker
```
å®‰è£å®Œæˆå¾Œï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç·¨è­¯é¡åƒå’Œå•Ÿå‹•å®¹å™¨ï¼š
```
docker build -f Dockerfile-cuda -t chatglm-cuda:latest .
docker run --gpus all -d --name chatglm -p 7860:7860  chatglm-cuda:latest

#è‹¥è¦ä½¿ç”¨é›¢ç·šæ¨¡å‹ï¼Œè«‹é…ç½®å¥½æ¨¡å‹è·¯å¾‘ï¼Œç„¶å¾Œæ­¤repoæ›è¼‰åˆ°Container
docker run --gpus all -d --name chatglm -p 7860:7860 -v ~/github/langchain-ChatGLM:/chatGLM  chatglm-cuda:latest
```


## é–‹ç™¼éƒ¨ç½²

### è»Ÿä»¶éœ€æ±‚

æœ¬é …ç›®å·²åœ¨ Python 3.8.1 - 3.10ï¼ŒCUDA 11.7 ç’°å¢ƒä¸‹å®Œæˆæ¸¬è©¦ã€‚å·²åœ¨ Windowsã€ARM æ¶æ§‹çš„ macOSã€Linux ç³»çµ±ä¸­å®Œæˆæ¸¬è©¦ã€‚

vueå‰ç«¯éœ€è¦node18ç’°å¢ƒ

### å¾æœ¬åœ°åŠ è¼‰æ¨¡å‹

è«‹åƒè€ƒ [THUDM/ChatGLM-6B#å¾æœ¬åœ°åŠ è¼‰æ¨¡å‹](https://github.com/THUDM/ChatGLM-6B#å¾æœ¬åœ°åŠ è¼‰æ¨¡å‹)

### 1. å®‰è£ç’°å¢ƒ

åƒè¦‹ [å®‰è£æŒ‡å—](docs/INSTALL.md)ã€‚

### 2. è¨­ç½®æ¨¡å‹é»˜èªåƒæ•¸

åœ¨é–‹å§‹åŸ·è¡Œ Web UI æˆ–å‘½ä»¤è¡Œäº¤äº’å‰ï¼Œè«‹å…ˆæª¢æŸ¥ [configs/model_config.py](configs/model_config.py) ä¸­çš„å„é …æ¨¡å‹åƒæ•¸è¨­è¨ˆæ˜¯å¦ç¬¦åˆéœ€æ±‚ã€‚

å¦‚éœ€é€šé fastchat ä»¥ api å½¢å¼èª¿ç”¨ llmï¼Œè«‹åƒè€ƒ [fastchat èª¿ç”¨å¯¦ç¾](docs/fastchat.md)

### 3. åŸ·è¡Œè…³æœ¬é«”é©— Web UI æˆ–å‘½ä»¤è¡Œäº¤äº’

> æ³¨ï¼šé‘’æ–¼ç’°å¢ƒéƒ¨ç½²éç¨‹ä¸­å¯èƒ½é‡åˆ°å•é¡Œï¼Œå»ºè­°é¦–å…ˆæ¸¬è©¦å‘½ä»¤è¡Œè…³æœ¬ã€‚å»ºè­°å‘½ä»¤è¡Œè…³æœ¬æ¸¬è©¦å¯æ­£å¸¸é‹è¡Œå¾Œå†é‹è¡Œ Web UIã€‚

åŸ·è¡Œ [cli_demo.py](cli_demo.py) è…³æœ¬é«”é©—**å‘½ä»¤è¡Œäº¤äº’**ï¼š
```shell
$ python cli_demo.py
```

æˆ–åŸ·è¡Œ [webui.py](webui.py) è…³æœ¬é«”é©— **Web äº¤äº’**

```shell
$ python webui.py
```

æˆ–åŸ·è¡Œ [api.py](api.py) åˆ©ç”¨ fastapi éƒ¨ç½² API
```shell
$ python api.py
```
æˆ–æˆåŠŸéƒ¨ç½² API å¾Œï¼ŒåŸ·è¡Œä»¥ä¸‹è…³æœ¬é«”é©—åŸºæ–¼ VUE çš„å‰ç«¯é é¢
```shell
$ cd views 

$ pnpm i

$ npm run dev
```

VUE å‰ç«¯ç•Œé¢å¦‚ä¸‹åœ–æ‰€ç¤ºï¼š
1. `å°è©±` ç•Œé¢
![](img/vue_0521_0.png)
2. `çŸ¥è­˜åº«å•ç­”` ç•Œé¢
![](img/vue_0521_1.png)
3. `Bingæœç´¢` ç•Œé¢
![](img/vue_0521_2.png)

WebUI ç•Œé¢å¦‚ä¸‹åœ–æ‰€ç¤ºï¼š
1. `å°è©±` Tab ç•Œé¢
![](img/webui_0521_0.png)
2. `çŸ¥è­˜åº«æ¸¬è©¦ Beta` Tab ç•Œé¢
![](img/webui_0510_1.png)
3. `æ¨¡å‹é…ç½®` Tab ç•Œé¢
![](img/webui_0510_2.png)

Web UI å¯ä»¥å¯¦ç¾å¦‚ä¸‹åŠŸèƒ½ï¼š

1. é‹è¡Œå‰è‡ªå‹•è®€å–`configs/model_config.py`ä¸­`LLM`åŠ`Embedding`æ¨¡å‹æšèˆ‰åŠé»˜èªæ¨¡å‹è¨­ç½®é‹è¡Œæ¨¡å‹ï¼Œå¦‚éœ€é‡æ–°åŠ è¼‰æ¨¡å‹ï¼Œå¯åœ¨ `æ¨¡å‹é…ç½®` Tab é‡æ–°é¸æ“‡å¾Œé»æ“Š `é‡æ–°åŠ è¼‰æ¨¡å‹` é€²è¡Œæ¨¡å‹åŠ è¼‰ï¼›
2. å¯æ‰‹å‹•èª¿ç¯€ä¿ç•™å°è©±æ­·å²é•·åº¦ã€åŒ¹é…çŸ¥è­˜åº«æ–‡æ®µæ•¸é‡ï¼Œå¯æ ¹æ“šé¡¯å­˜å¤§å°è‡ªè¡Œèª¿ç¯€ï¼›
3. `å°è©±` Tab å…·å‚™æ¨¡å¼é¸æ“‡åŠŸèƒ½ï¼Œå¯é¸æ“‡ `LLMå°è©±` èˆ‡ `çŸ¥è­˜åº«å•ç­”` æ¨¡å¼é€²è¡Œå°è©±ï¼Œæ”¯æŒæµå¼å°è©±ï¼›
4. æ·»åŠ  `é…ç½®çŸ¥è­˜åº«` åŠŸèƒ½ï¼Œæ”¯æŒé¸æ“‡å·²æœ‰çŸ¥è­˜åº«æˆ–æ–°å»ºçŸ¥è­˜åº«ï¼Œä¸¦å¯å‘çŸ¥è­˜åº«ä¸­**æ–°å¢**ä¸Šå‚³æ–‡ä»¶/æ–‡ä»¶å¤¾ï¼Œä½¿ç”¨æ–‡ä»¶ä¸Šå‚³çµ„ä»¶é¸æ“‡å¥½æ–‡ä»¶å¾Œé»æ“Š `ä¸Šå‚³æ–‡ä»¶ä¸¦åŠ è¼‰çŸ¥è­˜åº«`ï¼Œæœƒå°‡æ‰€é¸ä¸Šå‚³æ–‡æª”æ•¸æ“šåŠ è¼‰è‡³çŸ¥è­˜åº«ä¸­ï¼Œä¸¦åŸºæ–¼æ›´æ–°å¾ŒçŸ¥è­˜åº«é€²è¡Œå•ç­”ï¼›
5. æ–°å¢ `çŸ¥è­˜åº«æ¸¬è©¦ Beta` Tabï¼Œå¯ç”¨æ–¼æ¸¬è©¦ä¸åŒæ–‡æœ¬åˆ‡åˆ†æ–¹æ³•èˆ‡æª¢ç´¢ç›¸é—œåº¦é–¾å€¼è¨­ç½®ï¼Œæš«ä¸æ”¯æŒå°‡æ¸¬è©¦åƒæ•¸ä½œç‚º `å°è©±` Tab è¨­ç½®åƒæ•¸ã€‚
6. å¾ŒçºŒç‰ˆæœ¬ä¸­å°‡æœƒå¢åŠ å°çŸ¥è­˜åº«çš„ä¿®æ”¹æˆ–åˆªé™¤ï¼ŒåŠçŸ¥è­˜åº«ä¸­å·²å°å…¥æ–‡ä»¶çš„æŸ¥çœ‹ã€‚

### å¸¸è¦‹å•é¡Œ

åƒè¦‹ [å¸¸è¦‹å•é¡Œ](docs/FAQ.md)ã€‚

## Demo

ä»¥å•é¡Œ`chatglm-6b çš„å±€é™æ€§å…·é«”é«”ç¾åœ¨å“ªé‡Œï¼Œå¦‚ä½•å¯¦ç¾æ”¹é€²`ç‚ºä¾‹ï¼š

æœªä½¿ç”¨ langchain æ¥å…¥æœ¬åœ°æ–‡æª”æ™‚ï¼š

>ChatGLM-6B æ˜¯ä¸€å€‹åŸºæ–¼ GPT-3 çš„èŠå¤©æ©Ÿå™¨äºº,å®ƒçš„å±€é™æ€§ä¸»è¦é«”ç¾åœ¨ä»¥ä¸‹å¹¾å€‹æ–¹é¢:
>1. èªè¨€æ¨¡å‹çš„ç²¾åº¦:GPT-3 æ˜¯ä¸€ç¨®å¤§å‹çš„èªè¨€æ¨¡å‹,å®ƒçš„ç²¾åº¦æ¯”è¼ƒé«˜,ä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›å±€é™æ€§ã€‚ä¾‹å¦‚,å®ƒå¯èƒ½ç„¡æ³•æº–ç¢ºåœ°ç†è§£æŸäº›æ–¹è¨€ã€å£éŸ³æˆ–è€…è¦†é›œçš„å¥å­çµæ§‹ã€‚
>2. çŸ¥è­˜åœ–è­œçš„å®Œæ•´æ€§:GPT-3 å¯ä»¥ç”Ÿæˆä¸€äº›çŸ¥è­˜åœ–è­œ,ä½†æ˜¯å…¶å®Œæ•´æ€§å’Œæº–ç¢ºæ€§å¯èƒ½ä¸å¤ ã€‚ä¾‹å¦‚,å®ƒå¯èƒ½ç„¡æ³•æº–ç¢ºåœ°ç†è§£æŸäº›é ˜åŸŸçš„å°ˆæ¥­çŸ¥è­˜å’Œè¡“èªã€‚
>3. å°è©±ç”Ÿæˆçš„é€£è²«æ€§:GPT-3 å¯ä»¥ç”Ÿæˆä¸€äº›é€£è²«çš„å°è©±,ä½†æ˜¯å…¶ç”Ÿæˆçš„å°è©±å¯èƒ½ä¸å¤ è‡ªç„¶ã€‚ä¾‹å¦‚,å®ƒå¯èƒ½æœƒç”Ÿæˆä¸€äº›è™›å‡çš„ã€ä¸é€£è²«çš„å°è©±æˆ–è€…èª¤è§£ç”¨æˆ¶çš„æ„åœ–ã€‚
>
>ç‚ºäº†æ”¹é€² ChatGLM-6B,å¯ä»¥è€ƒæ…®ä»¥ä¸‹å¹¾å€‹æ–¹é¢:
>1. æé«˜èªè¨€æ¨¡å‹çš„ç²¾åº¦:å¯ä»¥é€šéå¢åŠ è¨“ç·´æ•¸æ“šã€ä½¿ç”¨æ›´å¥½çš„èªè¨€æ¨¡å‹æ¶æ§‹ã€å„ªåŒ–æ¨¡å‹è¨“ç·´éç¨‹ç­‰æ–¹å¼ä¾†æé«˜èªè¨€æ¨¡å‹çš„ç²¾åº¦ã€‚
>2. å¢å¼·çŸ¥è­˜åœ–è­œçš„å®Œæ•´æ€§:å¯ä»¥é€šéå¢åŠ çŸ¥è­˜åœ–è­œçš„ç¶­åº¦ã€ä½¿ç”¨æ›´å¥½çš„çŸ¥è­˜åœ–è­œæ§‹å»ºæ–¹æ³•ã€å„ªåŒ–çŸ¥è­˜åœ–è­œçš„åŒ¹é…ç®—æ³•ç­‰æ–¹å¼ä¾†å¢å¼·çŸ¥è­˜åœ–è­œçš„å®Œæ•´æ€§ã€‚
>3. æé«˜å°è©±ç”Ÿæˆçš„é€£è²«æ€§:å¯ä»¥é€šéå¢åŠ å°è©±ç”Ÿæˆæ¨¡å‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€ä½¿ç”¨æ›´å¥½çš„ä¸Šä¸‹æ–‡ä¿¡æ¯æå–æ–¹æ³•ã€å„ªåŒ–å°è©±ç”Ÿæˆæ¨¡å‹çš„ç®—æ³•ç­‰æ–¹å¼ä¾†æé«˜å°è©±ç”Ÿæˆçš„é€£è²«æ€§ã€‚
>4. å¼•å…¥æ›´å¤šçš„äººé¡åé¥‹:äººé¡åé¥‹å¯ä»¥å¹«åŠ© ChatGLM-6B æ›´å¥½åœ°ç†è§£ç”¨æˆ¶çš„æ„åœ–å’Œéœ€æ±‚,å¾è€Œæé«˜å°è©±ç”Ÿæˆçš„è³ªé‡å’Œæº–ç¢ºæ€§ã€‚å¯ä»¥é€šéå¼•å…¥æ›´å¤šçš„äººé¡å®¢æœã€ä½¿ç”¨äººé¡åé¥‹æ”¶é›†å™¨ç­‰æ–¹å¼ä¾†å¼•å…¥æ›´å¤šçš„äººé¡åé¥‹ã€‚

ä½¿ç”¨ langchain æ¥å…¥ ChatGLM-6B é …ç›®çš„ README.md æ–‡ä»¶å¾Œ ChatGLM çš„å›ç­”ï¼š
>ChatGLM-6B æ˜¯ä¸€å€‹åŸºæ–¼æ·±åº¦å­¸ç¿’çš„è‡ªç„¶èªè¨€è™•ç†æ¨¡å‹,å®ƒåœ¨å›ç­”å•é¡Œæ–¹é¢è¡¨ç¾å‡ºè‰²ã€‚ä½†æ˜¯,å®ƒä¹Ÿæœ‰ä¸€äº›å±€é™æ€§,å…·é«”å¦‚ä¸‹:
>1. èªè¨€ç†è§£æœ‰é™:ChatGLM-6B åªå­¸ç¿’äº†ä¸­æ–‡è‡ªç„¶èªè¨€,å°æ–¼å…¶ä»–èªè¨€å¯èƒ½æœƒå­˜åœ¨ç†è§£ä¸Šçš„å±€é™æ€§ã€‚
>2. çŸ¥è­˜å„²å‚™ä¸è¶³:ChatGLM-6B çš„è¨“ç·´æ•¸æ“šé›†åªåŒ…å«äº†ä¸­æ–‡èªæ–™,å› æ­¤å®ƒå¯èƒ½ç„¡æ³•å›ç­”ä¸€äº›éä¸­æ–‡çš„å•é¡Œæˆ–è€…æŸäº›ç‰¹å®šé ˜åŸŸçš„å•é¡Œã€‚
>3. æ•¸æ“šé‡æœ‰é™:ChatGLM-6B çš„è¨“ç·´æ•¸æ“šé›†åªæœ‰å¹¾ç™¾è¬æ¢è¨˜éŒ„,å› æ­¤å®ƒå¯èƒ½ç„¡æ³•å›ç­”ä¸€äº›éå¸¸å…·é«”æˆ–è€…è¦†é›œçš„å•é¡Œã€‚
>
>ç‚ºäº†æ”¹é€² ChatGLM-6B,å¯ä»¥è€ƒæ…®ä»¥ä¸‹å¹¾å€‹æ–¹é¢:
>1. å­¸ç¿’æ›´å¤šçš„èªè¨€çŸ¥è­˜:å¯ä»¥å­¸ç¿’å…¶ä»–èªè¨€çš„è‡ªç„¶èªè¨€è™•ç†æŠ€è¡“,æ“´å¤§èªè¨€ç†è§£çš„ç¯„åœã€‚
>2. æ“´å¤§çŸ¥è­˜å„²å‚™:å¯ä»¥æ”¶é›†æ›´å¤šçš„ä¸­æ–‡èªæ–™,æˆ–è€…ä½¿ç”¨å…¶ä»–èªè¨€çš„æ•¸æ“šé›†ä¾†æ“´å……çŸ¥è­˜å„²å‚™ã€‚
>3. å¢åŠ æ•¸æ“šé‡:å¯ä»¥ä½¿ç”¨æ›´å¤§çš„æ•¸æ“šé›†ä¾†è¨“ç·´ ChatGLM-6B,æé«˜æ¨¡å‹çš„è¡¨ç¾ã€‚
>4. å¼•å…¥æ›´å¤šçš„è©•ä¼°æŒ‡æ¨™:å¯ä»¥å¼•å…¥æ›´å¤šçš„è©•ä¼°æŒ‡æ¨™ä¾†è©•ä¼°æ¨¡å‹çš„è¡¨ç¾,å¾è€Œç™¼ç¾ ChatGLM-6B å­˜åœ¨çš„ä¸è¶³å’Œå±€é™æ€§ã€‚
>5. æ”¹é€²æ¨¡å‹æ¶æ§‹:å¯ä»¥æ”¹é€² ChatGLM-6B çš„æ¨¡å‹æ¶æ§‹,æé«˜æ¨¡å‹çš„æ€§èƒ½å’Œè¡¨ç¾ã€‚ä¾‹å¦‚,å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ç¥ç¶“ç¶²çµ¡æˆ–è€…æ”¹é€²çš„å·ç©ç¥ç¶“ç¶²çµ¡çµæ§‹ã€‚

## è·¯ç·šåœ–

- [ ] Langchain æ‡‰ç”¨
  - [x] æ¥å…¥éçµæ§‹åŒ–æ–‡æª”ï¼ˆå·²æ”¯æŒ mdã€pdfã€docxã€txt æ–‡ä»¶æ ¼å¼ï¼‰
  - [x] jpg èˆ‡ png æ ¼å¼åœ–ç‰‡çš„ OCR æ–‡å­—è­˜åˆ¥
  - [x] æœç´¢å¼•æ“æ¥å…¥
  - [ ] æœ¬åœ°ç¶²é æ¥å…¥
  - [ ] çµæ§‹åŒ–æ•¸æ“šæ¥å…¥ï¼ˆå¦‚ csvã€Excelã€SQL ç­‰ï¼‰
  - [ ] çŸ¥è­˜åœ–è­œ/åœ–æ•¸æ“šåº«æ¥å…¥
  - [ ] Agent å¯¦ç¾
- [x] å¢åŠ æ›´å¤š LLM æ¨¡å‹æ”¯æŒ
  - [x] [THUDM/chatglm2-6b](https://huggingface.co/THUDM/chatglm2-6b)
  - [x] [THUDM/chatglm-6b](https://huggingface.co/THUDM/chatglm-6b)
  - [x] [THUDM/chatglm-6b-int8](https://huggingface.co/THUDM/chatglm-6b-int8)
  - [x] [THUDM/chatglm-6b-int4](https://huggingface.co/THUDM/chatglm-6b-int4)
  - [x] [THUDM/chatglm-6b-int4-qe](https://huggingface.co/THUDM/chatglm-6b-int4-qe)
  - [x] [ClueAI/ChatYuan-large-v2](https://huggingface.co/ClueAI/ChatYuan-large-v2)
  - [x] [fnlp/moss-moon-003-sft](https://huggingface.co/fnlp/moss-moon-003-sft)
  - [x] [bigscience/bloomz-7b1](https://huggingface.co/bigscience/bloomz-7b1)
  - [x] [bigscience/bloom-3b](https://huggingface.co/bigscience/bloom-3b)
  - [x] [baichuan-inc/baichuan-7B](https://huggingface.co/baichuan-inc/baichuan-7B)
  - [x] [lmsys/vicuna-13b-delta-v1.1](https://huggingface.co/lmsys/vicuna-13b-delta-v1.1)
  - [x] æ”¯æŒé€šéèª¿ç”¨ [fastchat](https://github.com/lm-sys/FastChat) api èª¿ç”¨ llm
- [x] å¢åŠ æ›´å¤š Embedding æ¨¡å‹æ”¯æŒ
  - [x] [nghuyong/ernie-3.0-nano-zh](https://huggingface.co/nghuyong/ernie-3.0-nano-zh)
  - [x] [nghuyong/ernie-3.0-base-zh](https://huggingface.co/nghuyong/ernie-3.0-base-zh)
  - [x] [shibing624/text2vec-base-chinese](https://huggingface.co/shibing624/text2vec-base-chinese)
  - [x] [GanymedeNil/text2vec-large-chinese](https://huggingface.co/GanymedeNil/text2vec-large-chinese)
  - [x] [moka-ai/m3e-small](https://huggingface.co/moka-ai/m3e-small)
  - [x] [moka-ai/m3e-base](https://huggingface.co/moka-ai/m3e-base)
- [ ] Web UI
  - [x] åŸºæ–¼ gradio å¯¦ç¾ Web UI DEMO
  - [x] åŸºæ–¼ streamlit å¯¦ç¾ Web UI DEMO
  - [x] æ·»åŠ è¼¸å‡ºå…§å®¹åŠéŒ¯èª¤æç¤º
  - [x] å¼•ç”¨æ¨™æ³¨
  - [ ] å¢åŠ çŸ¥è­˜åº«ç®¡ç†
    - [x] é¸æ“‡çŸ¥è­˜åº«é–‹å§‹å•ç­”
    - [x] ä¸Šå‚³æ–‡ä»¶/æ–‡ä»¶å¤¾è‡³çŸ¥è­˜åº«
    - [x] çŸ¥è­˜åº«æ¸¬è©¦
    - [x] åˆªé™¤çŸ¥è­˜åº«ä¸­æ–‡ä»¶
  - [x] æ”¯æŒæœç´¢å¼•æ“å•ç­”
- [ ] å¢åŠ  API æ”¯æŒ
  - [x] åˆ©ç”¨ fastapi å¯¦ç¾ API éƒ¨ç½²æ–¹å¼
  - [ ] å¯¦ç¾èª¿ç”¨ API çš„ Web UI Demo
- [x] VUE å‰ç«¯

## é …ç›®äº¤æµç¾¤
<img src="img/qr_code_46.jpg" alt="äºŒç¶­ç¢¼" width="300" height="300" />


ğŸ‰ langchain-ChatGLM é …ç›®å¾®ä¿¡äº¤æµç¾¤ï¼Œå¦‚æœä½ ä¹Ÿå°æœ¬é …ç›®æ„Ÿèˆˆè¶£ï¼Œæ­¡è¿åŠ å…¥ç¾¤èŠåƒèˆ‡è¨è«–äº¤æµã€‚
